<div ng-controller="CompetitionCtrl" class="container">
    <div ng-include="PARTIAL + 'competition_header.html'"></div>
    <div class="mt-2" ng-controller="GroupsCtrl" ng-if="groups !== null">
        <div class="col-md-8 offset-md-2"
             ng-repeat="(groupname, racers) in groups | groupBy: 'group'">
            <h5 class="container">{{ groupname }} Group: {{ racers.length }}
                <ng-pluralize count="racers.length" when="{'one': 'Racer', 'other':'Racers'}"></ng-pluralize>
            </h5>
            <table class="table">
                <thead class="text-nowrap">
                <tr>
                    <th>号码<br>No</th>
                    <th>姓名 Name<br>车队 Team</th>
                </tr>
                </thead>
                <tbody class="text-nowrap" ng-repeat="racer in racers | orderBy: 'racerTag'">
                <tr scope="row">
                    <td scope="row">{{ racer.racerTag }}</td>
                    <td><p>{{ regionsemoji[racer.racerId__region] }}{{ racer.racerId__realName }}
                        <i class="fa fa-{{ racer.racerId__gender | genderFromInt }}" aria-hidden="true"></i></p>
                        <p class="text-secondary">{{ racer.teamId__name }}</p></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-12 container text-center">
            <button class="btn btn-primary" type="submit" ng-click="showCompetitionSignup(comp_uniname)"
                    ng-disabled="comp.signUpOpen != true">Sign Up
            </button>
            <button class="btn" ng-click="showCompetitionDetail(comp_uniname)">View Detail</button>
        </div>
    </div>
</div>
